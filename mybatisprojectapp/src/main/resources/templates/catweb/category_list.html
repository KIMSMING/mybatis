<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <title>category_list</title>
    <link rel="stylesheet" href="/mazer/assets/compiled/css/app.css">
    <link rel="stylesheet" href="/mazer/assets/compiled/css/app-dark.css">
    <link rel="stylesheet" href="/mazer/assets/compiled/css/iconly.css">
    <script language="JavaScript" src="/js/jquery-3.7.1.min.js"></script>
    <script>
        //$(document).ready(function(){
        //    // Jquery 는 html 문서가 로딩이 완료 되면 이 부분을 실행한다.
        //});
        $(function () {
            // jQuery 3.0 버전부터 실행할 기능을 정의해주세요.
            let totPage = ([[${searchCategoryDto.total}]] + 9) / 10;
            let searchName = "[[${searchCategoryDto.name}]]";
            for (let i = 1; i <= totPage; i++) {
                $("#pageDiv").append(" <a class='btn btn-success rounded-pill' href='category_list?page=" + i +
                    "&name=" + searchName + "'>[" + i + "]</a> ");
            }
        });

    </script>
    <style>
        #namekan{
            background: white;
            display: flex;
            justify-content: center;
            border-radius: 0.3rem;
            border: 2px solid blue;
            height: 40px;
            width: 20%;
            font-size: 140%;
            float: left;
            margin-left: 7px;
        }
        #form{
            float: right;
            width: 78%;
            height: 40px;
            margin-right: 10px;
            border: 2px solid blue;
        }
        #name{
            width: 90%;
        }
        #ul{
            margin-left: 50px;
        }
        li{
            font-size: large;
        }
        #button{
            float:right;
            margin-right: 10px;
        }
        #Prev{
            float: left;
            margin-left: 10px;
        }
        #pageDiv{
             float:left;
             margin-left: 400px;
         }
        #Next{
            float: right;
            margin-right: 10px;
        }
    </style>
</head>
<body>
<div>
    <h1>분류 관리 목록 화면(List)</h1>
</div>
<div id="namekan">이름</div>
<div>
    <form id="form" name="form" method="get" action="/catweb/category_list">
        <label for="name"></label><input type="text" id="name" name="name" th:value="${searchCategoryDto.name}"/>
        <input type="hidden" id="page" name="page" th:value="${searchCategoryDto.page}"/>
        <input type="submit" value="검색"/>
    </form>
</div>
<div id="ul">
    <section id="content-types">
        <ul id="categoryList">
            <li>
                <span>id</span>
                <span> : </span>
                <span>name</span>
            </li>
            <li th:each="item : ${allList}">
                <a th:href="@{/catweb/category_list_view(id=${item.id})}">
                    <span th:text="${item.id}" style="margin-right: 5px;"></span>
                    <span> : </span>
                    <span th:text="${item.name}" style="margin-left: 5px;"></span>
                </a>
            </li>
        </ul>
        <div id="button">
            <button type="button" onClick="location.href='/catweb/category_add'">추가</button>
        </div>
        <div id="Prev">
            <button>Prev</button>
            <div>total : [[${searchCategoryDto.total}]], page : [[${searchCategoryDto.page}]], search name =
                [[${searchCategoryDto.name}]]
            </div>
            <div id="pageDiv">
            </div>
        </div>
        <div id="Next">
            <button>Next</button>
        </div>
    </section>
</div>
</body>
</html>